# Xorg
export XENVIRONMENT="$HOME/.Xresources"

# node
export NPM_CONFIG_PREFIX="${HOME}/.local/npm"
# global pnpm mutable directory
export PNPM_HOME="/home/mario/.local/share/pnpm"

# workaround for: https://github.com/npm/cli/issues/4163
export NODE_OPTIONS=--dns-result-order=ipv4first

# go
export GOPATH=~/go
export GOBIN=$GOPATH/bin

# rust
export CARGOBIN=$HOME/.cargo/bin

# home and local bin
LOCALBIN=$HOME/.local/bin
HOMEBIN=$HOME/bin

# ruby
# https://wiki.archlinux.org/title/Ruby#Setup
# export GEM_HOME="$(ruby -e 'puts Gem.user_dir')"
GEM_HOME="${XDG_DATA_HOME:-$HOME/.local/share}/gem/ruby/3.0.0"

# Krew - kubectl plugin manager
export KREW_ROOT="${XDG_DATA_HOME:-$HOME/.local/share}/krew"
# kubectl plugins configuration
export KUBE_FUZZY_PREVIEW_ENABLED=true
export KUBECONFIG=~/.kube/config

# fly
export FLYCTL_INSTALL="$HOME/.fly"

# devbox
eval "$(devbox global shellenv --init-hook)"

# PATH
typeset -U PATH path
path=(
  "$CARGOBIN"
  "$FLYCTL_INSTALL/bin:$PATH"
  "$GOPATH/bin"
  "$HOMEBIN"
  "$KREW_ROOT/bin"
  "$LOCALBIN"
  "$NPM_CONFIG_PREFIX/bin"
  "$PNPM_HOME"
  "$XDG_DATA_HOME/nvim/mason/bin"
  "$path[@]")
export PATH

# APPS
export EDITOR=nvim
export TERM=alacritty

# Editors
export VISUAL=nvim
export PAGER=less

# Language
if [[ -z "$LANG" ]]; then
  export LANG='en_US.UTF-8'
fi

# Gnome needs a location to save screenshots
export PICTURES=~/Pictures

# Zim
export ZIM_HOME="${XDG_CONFIG_HOME:-$HOME/.config}/zim"
export ZIM_CONFIG_FILE="${XDG_CONFIG_HOME:-$HOME/.config}/zim/zimrc"

# zsh-vi-mode
export ZVM_INIT_MODE=sourcing
export ZVM_VI_INSERT_ESCAPE_BINDKEY=jk

# podman rootless
# export DOCKER_HOST=unix://$XDG_RUNTIME_DIR/podman/podman.sock
# Docker rootless
export DOCKER_HOST=unix://$XDG_RUNTIME_DIR/docker.sock
export DOCKER_BUILDKIT=1

# zim
: ${ZIM_HOME=${ZDOTDIR:-${HOME}}/.zim}
