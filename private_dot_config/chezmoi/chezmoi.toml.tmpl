sourceDir = "~/.local/share/chezmoi"

{{- if eq .chezmoi.os "windows" }}
[cd]
command = "pwsh"
{{- end }}

[diff]
command = "delta"
args = ["--syntax-theme", "Dracula", "--line-numbers"]
exclude = ["scripts"]

[status]
exclude = ["scripts"]

[merge]
command = "nvim -d"

[git]
# Disabled because we use claude_chain in run_before script
autoCommit = false
autoPush = false

[data]
machineType = {{ .machineType | quote }}
codespaces = {{ .codespaces }}

[data.machineConfig]
hostname = {{ .machineConfig.hostname | quote }}
type = {{ .machineConfig.type | quote }}

[data.machineConfig.features]
desktop = {{ .machineConfig.features.desktop | default false }}
kanata = {{ if hasKey .machineConfig.features "kanata" }}{{ .machineConfig.features.kanata }}{{ else }}false{{ end }}
audio = {{ .machineConfig.features.audio | default false }}
bluetooth = {{ .machineConfig.features.bluetooth | default false }}
