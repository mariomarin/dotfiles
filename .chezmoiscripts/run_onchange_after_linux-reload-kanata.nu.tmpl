{{- if eq .chezmoi.os "linux" -}}
#!/usr/bin/env nu
# Reload kanata when config changes (Linux)
# laptop.kbd hash: {{ include "private_dot_config/kanata/laptop.kbd" | sha256sum }}

def service-active [] {
    (do { systemctl is-active kanata-laptop } | complete).exit_code == 0
}

if not (service-active) {
    print "Kanata service not active, skipping"
    exit 0
}

print "Reloading kanata..."
sudo systemctl restart kanata-laptop
print "âœ“ Kanata reloaded"
{{- end }}
