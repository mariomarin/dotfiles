.git
*.zwc*
*.old*
tmux/plugins
zim/modules
vimfiles
Session.vim
.config/systemd/user/syncthing.service

# Personal notes (not applied to home)
etc-personal
etc-personal/**

# Development and repository files (not dotfiles)
nix
nix/**
nixos
nixos/**
shell.nix
devenv.nix
chezmoi
chezmoi/**
Makefile
README.md
CLAUDE.md
**/*CLAUDE.md
.devenv
.devenv/**
.direnv
.direnv/**
.editorconfig
devenv.lock
devenv.yaml
.claude
.claude/**

# OS-specific scripts (ignore scripts for other operating systems)
{{ if ne .chezmoi.os "darwin" }}
.chezmoiscripts/darwin-*
{{ end }}

{{ if ne .chezmoi.os "windows" }}
.chezmoiscripts/windows-*
{{ end }}

{{ if ne .chezmoi.os "linux" }}
.chezmoiscripts/linux-*
{{ end }}

# Platform-specific validation scripts
{{ if eq .chezmoi.os "windows" }}
.chezmoiscripts/00-validate-hostname.sh
{{ else }}
.chezmoiscripts/00-validate-hostname.ps1
{{ end }}

# Unix-only configurations (ignore on Windows)
{{ if eq .chezmoi.os "windows" }}
.config/zim
.config/zim/**
.config/tmux
.config/tmux/**
.config/zsh
.config/zsh/**
.config/autorandr
.config/autorandr/**
.config/leftwm
.config/leftwm/**
.config/picom
.config/picom/**
.config/polybar
.config/polybar/**
.config/rofi
.config/rofi/**
.config/systemd
.config/systemd/**
.config/mimeapps.list
{{ end }}

# macOS-only configurations (ignore on non-macOS)
{{ if ne .chezmoi.os "darwin" }}
nix/darwin
nix/darwin/**
.config/aerospace
.config/aerospace/**
{{ end }}

# Linux-only window managers (ignore on macOS)
{{ if eq .chezmoi.os "darwin" }}
.config/leftwm
.config/leftwm/**
.config/picom
.config/picom/**
.config/polybar
.config/polybar/**
.config/rofi
.config/rofi/**
.config/autorandr
.config/autorandr/**
{{ end }}

# Desktop-specific scripts (ignore on headless/server machines)
{{ if not .machineConfig.features.desktop }}
.chezmoiscripts/linux-30-*
.chezmoiscripts/linux-40-*
.chezmoiscripts/linux-50-*
.chezmoiscripts/linux-autostart-*
{{ end }}

# Platform variable for chef-managed hosts
{{ $platform := "" }}
{{ if hasKey .machineConfig "platform" }}{{ $platform = .machineConfig.platform }}{{ end }}

# Chef-managed hosts: SSH handled externally, no Bitwarden access
{{ if or (eq $platform "darwin-brew") (eq $platform "linux-apt") }}
.ssh
.ssh/**
{{ end }}

# linux-apt platform only
{{ if ne $platform "linux-apt" }}
.config/apt
.config/apt/**
.chezmoiscripts/run_before_linux-apt-bootstrap-nushell.sh
.chezmoiscripts/run_after_linux-apt-install-packages.nu
{{ end }}

# User-managed directory contents (keep directory structure, ignore contents)
.config/autostart/**
!.config/autostart/.keep
.local/share/applications/**
!.local/share/applications/.keep
Pictures/Wallpapers/**
!Pictures/Wallpapers/.keep
